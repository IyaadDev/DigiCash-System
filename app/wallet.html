<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Wallet - DigiCash Dashboard</title>
    <meta name="description" content="The one dashboard to manage your DigiCash. Don't have any? Create an account and get some free credits">
    <link rel="icon" type="image/png" sizes="500x500" href="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e">
    <link rel="icon" type="image/png" sizes="500x500" href="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e">
    <link rel="icon" type="image/png" sizes="500x500" href="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e">
    <link rel="icon" type="image/png" sizes="500x500" href="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e">
    <link rel="icon" type="image/png" sizes="500x500" href="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e">
    <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css?h=cb606d99bb2418df19b6bc818b41e412">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono&amp;display=swap">
    <link rel="stylesheet" href="/assets/fonts/fontawesome-all.min.css?h=e7cfb9ec830984d637c4aed91cd725c5">
    <link rel="stylesheet" href="/assets/css/404-NOT-FOUND-animated.css?h=52dc02178c6c95fb5c6b310b7eea1053">
    <link rel="stylesheet" href="/assets/css/Bootstrap-Callout-Danger-1.css?h=05fb6ea46bf123582ef75deacf9ab696">
    <link rel="stylesheet" href="/assets/css/Bootstrap-Callout-Danger.css?h=42712a1218a3f115163d943aef23cb21">
    <link rel="stylesheet" href="/assets/css/Bootstrap-Callout-Info.css?h=15b43fafd5928244e49dc20add914164">
    <link rel="stylesheet" href="/assets/css/Navbar-Right-Links-Dark-icons.css?h=1fb7478465b62bffaafc5ff7d3ec5853">
</head>

<body id="page-top">
    <div id="wrapper">
        <nav class="navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0" style="border-radius: 17px;margin: 10px;">
            <div class="container-fluid d-flex flex-column p-0"><script>
  const accountDropdown = document.querySelector("#accountDropdown");
  const accountName = document.querySelector("#accountName");

  function checkCookie() {
    const cookieExists = document.cookie.split(';').some((item) => item.trim().startsWith('dashboard_account='));
    if (cookieExists) {
      if (accountDropdown) {
        accountDropdown.classList.add("show");
      }
      const accountValue = document.cookie.split('; ').find(row => row.startsWith('dashboard_account=')).split('=')[1];
      accountName.innerText = accountValue;
    } else {
      if (accountDropdown) {
        accountDropdown.classList.remove("show");
      }
    }
  }

  window.onload = checkCookie;
</script>
<a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0" href="/app/dashboard.html" style="width: 75%;margin-top: 15px!important;margin-bottom: 15px!important;">
                    <div class="sidebar-brand-icon rotate-n-15"></div>
                    <div class="sidebar-brand-text mx-3"><img src="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e" width="57" height="57" style="width: auto;height: 38.762px;"><br><span class="text-capitalize" style="font-size: auto!important;font-family: arial;font-weight: bold;">DigiCash Dashboard</span></div>
                </a>
                <hr class="sidebar-divider my-0">
                <ul class="navbar-nav text-light" id="accordionSidebar">
                    <li class="nav-item"><a class="nav-link" href="/app/dashboard.html"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/app/profile.html"><i class="fas fa-user"></i><span>Profile</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/app/wallet.html"><i class="fas fa-wallet"></i><span>Wallet</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/app/deposit.html"><i class="fas fa-piggy-bank"></i><span>Deposit</span></a><a class="nav-link" href="/app/table.html"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-cash-coin" style="width: 15.3px;margin: 0px 4px 0px 0px;">
                                <path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"></path>
                                <path d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"></path>
                                <path d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"></path>
                                <path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"></path>
                            </svg><span>Withdraw</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/logout.html"><i class="fas fa-sign-out-alt"></i><span>Log Out</span></a></li>
                </ul>
                <div class="text-center d-none d-md-inline"><button class="btn rounded-circle border-0" id="sidebarToggle" type="button"></button></div>
            </div>
        </nav>
        <div class="d-flex flex-column" id="content-wrapper" style="margin-top: 20px;border-radius: 10px;background: #eaf1f4;margin-right: 20px;border-style: solid;border-color: rgb(242,242,242);">
            <div id="content">
                <div class="container-fluid" style="padding: 25px;">
                    <nav class="navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top" style="border-radius: 10px;">
                        <div class="container-fluid"><button class="btn btn-link d-md-none rounded-circle me-3" id="sidebarToggleTop" type="button"><i class="fas fa-bars"></i></button>
                            <h3 class="text-dark mb-0" style="font-size: 1rem;">DigiCash Wallet</h3>
                            <ul class="navbar-nav flex-nowrap ms-auto">
                                <li class="nav-item dropdown no-arrow">
                                    <!-- Start: account thign -->
                                    <div class="nav-item dropdown no-arrow"><a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#"><span class="d-none d-lg-inline me-2 text-gray-600 small">Guest</span><script>const account = JSON.parse(document.cookie.split(';').find(cookie => cookie.startsWith('account=')).split('=')[1]);
const firstName = account['first-name'];
const lastName = account['last-name'];
const nameSpan = document.querySelector('.text-gray-600');
nameSpan.innerHTML = `${firstName} ${lastName}`;
</script>
<img class="border rounded-circle img-profile" src="/assets/img/default-pfp.webp?h=ca785a70dace4e45ddd7ee8c2dd50cec" />
<script>
  const dashboardAccessToken_123 = 'patDs6HNgXDsAGKtn.b4b12d712365527fb18967b9d0a6002800857dc8309181510f6963ad2b45019d';
  const baseId_456 = 'appj9R8cdDKBA2Khb';
  const accountsUrl = `https://api.airtable.com/v0/${baseId_456}/${tableName}`;
  const accountCookieName = 'account';

  const imgProfile = document.querySelector('.img-profile');

  // Retrieve account data from cookie
  const getAccountFromCookie = () => {
    const cookieValue = document.cookie
      .split('; ')
      .find(row => row.startsWith(`${accountCookieName}=`))
      ?.split('=')[1];

    return cookieValue ? JSON.parse(cookieValue) : null;
  }

  // Set default image
  imgProfile.setAttribute('src', 'default-pfp.png');

  // Update image from Airtable if account cookie exists
  const userAccount = getAccountFromCookie();
  if (userAccount && userAccount.fields && userAccount.fields.pfp) {
    const pfpUrl = userAccount.fields.pfp[0].url;
    imgProfile.setAttribute('src', pfpUrl);
  }
</script></a>
                                        <div class="dropdown-menu shadow dropdown-menu-end animated--grow-in"><a class="dropdown-item" href="/app/profile.html"><i class="fas fa-user fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Profile</a><a class="dropdown-item" href="/app/profile.html"><i class="fas fa-cogs fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Settings</a><a class="dropdown-item" href="#"><i class="fas fa-list fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Activity log</a>
                                            <div class="dropdown-divider"></div><a class="dropdown-item" href="/logout.html"><i class="fas fa-sign-out-alt fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Logout</a>
                                        </div>
                                    </div><!-- End: account thign -->
                                </li>
                            </ul>
                        </div>
                    </nav><!-- Start: Bootstrap Callout Danger -->
                    <div class="bs-callout bs-callout-danger">
                        <h4>Full functionality not available</h4>
                        <p>Deposit, transfer and withdraw are not yet available, to file a deposit, withdraw or transfer, please consult an iCorp Accountant</p>
                    </div><!-- End: Bootstrap Callout Danger -->
                </div>
                <div class="container">
                    <div class="card text-center shadow d-xl-flex align-items-xl-center border-start-success py-2" style="background: repeating-linear-gradient(133deg, #f2f3f7 0%, #eeeefa 50%, #d5e6f8 99%);">
                        <div class="card-body">
                            <div class="col-auto"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-piggy-bank" style="font-size: 90px;color: rgb(0,0,0);">
                                    <path d="M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm1.138-1.496A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.602 7.602 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962z"></path>
                                    <path fill-rule="evenodd" d="M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zM2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.558 6.558 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.649 4.649 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393zm12.621-.857a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199z"></path>
                                </svg></div>
                            <div class="row align-items-center no-gutters">
                                <div class="col me-2">
                                    <div class="text-uppercase fw-bold text-success text-xs mb-1"><span class="text-capitalize" style="font-size: 1.5rem;">DigiCash Balance</span></div>
                                    <div class="fw-bold text-dark h5 mb-0" id="balance" style="color: rgb(0,0,0);font-size: 31px;"><span></span></div>
                                    <div class="fw-bold text-success text-xs mb-1" id="digi-cash" style="font-size: 1rem;"><span></span></div>
                                </div>
                            </div><a class="btn btn-primary" role="button" style="margin: 6px;padding: 5px 12px;border-radius: 5px;" href="/app/deposit.html"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-cash-coin" style="font-size: 30px;">
                                    <path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"></path>
                                    <path d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"></path>
                                    <path d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"></path>
                                    <path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"></path>
                                </svg>&nbsp;Deposit<br></a><button class="btn btn-primary" type="button" style="margin: 6px;padding: 5px 12px;border-radius: 5px;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-send-fill" style="font-size: 30px;">
                                    <path fill-rule="evenodd" d="M15.964.686a.5.5 0 0 0-.65-.65l-.095.038L.767 5.854l-.001.001-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.563 2.903.432.275.275.432 2.903 4.563.002.002.26.41a.5.5 0 0 0 .886-.083l.181-.453L15.926.78l.038-.095Zm-1.833 1.89.471-1.178-1.178.471L5.93 9.363l.338.215a.5.5 0 0 1 .154.154l.215.338 7.494-7.494Z"></path>
                                </svg>&nbsp; Transfer<br></button><button class="btn btn-primary" type="button" style="margin: 6px;padding: 5px 12px;border-radius: 5px;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-cash" style="font-size: 30px;">
                                    <path d="M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"></path>
                                    <path d="M0 4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V4zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V6a2 2 0 0 1-2-2H3z"></path>
                                </svg>&nbsp;Withdraw<br></button>
                            <div><a class="btn btn-primary" role="button" style="margin: 6px;padding: 5px 12px;border-radius: 5px;background: var(--bs-border-color-translucent);color: rgb(0,0,0);border: 0.5px solid rgb(0,0,0);" href="/app/card.html"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-credit-card-2-front-fill" style="font-size: 30px;">
                                        <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2.5 1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-2zm0 3a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 2a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zm3 0a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zm3 0a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zm3 0a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"></path>
                                    </svg>&nbsp;View my card<br></a></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-xl-3 mb-4"><script>
    const getBalance = () => {
    const cookieData = getCookie("account");
    if (!cookieData) {
      console.log("No user data found in cookie.");
      return;
    }
    const username = JSON.parse(cookieData).username;
  const dashboardsAccessToken = 'patDs6HNgXDsAGKtn.b4b12d712365527fb18967b9d0a6002800857dc8309181510f6963ad2b45019d';
  const dashboardsBaseId = 'appj9R8cdDKBA2Khb';
  const dashboardsTableName = 'accounts';
  const dashboardsUrl = `https://api.airtable.com/v0/${dashboardsBaseId}/${dashboardsTableName}?filterByFormula=AND(username="${username}")`;

  function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) {
      return parts.pop().split(';').shift();
    }
  }

  
    

    const balanceEl = document.querySelector("#balance span");
    const digiCashEl = document.querySelector("#digi-cash span");

    fetch(dashboardsUrl, {
      method: "GET",
      headers: {
        Authorization: `Bearer ${dashboardsAccessToken}`,
        "Content-Type": "application/json",
      },
    })
      .then((response) => response.json())
      .then((data) => {
        console.log("Data from Airtable API: ", data);
        const userRecord = data.records[0];
        const userBalance = userRecord.fields.balance;
        const formattedBalance = userBalance.toLocaleString("en-US", {
          style: "currency",
          currency: "USD",
        });
        balanceEl.innerHTML = formattedBalance.match(/[\d\.]+/)[0];
        digiCashEl.innerHTML = "DigiCash";
      })
      .catch((error) => {
        console.log("Error fetching data from Airtable API: ", error);
        balanceEl.innerHTML = "Error fetching balance";
      });
  };

  getBalance();
</script>
</div>
            </div>
            <footer class="bg-white sticky-footer" style="background: transparent;">
                <div class="container my-auto">
                    <div class="text-center my-auto copyright"><span>Copyright © DigiCash 2023</span></div>
                </div>
            </footer>
        </div><a class="border rounded d-inline scroll-to-top" href="#page-top"><i class="fas fa-angle-up"></i></a>
    </div>
    <p class="font-monospace text-center" style="font-family: monospace!important;color: rgb(0,0,0);font-weight: bold;">DigiCash Banking System - v0.8.4.1-April-Edition</p><script>
  if (document.cookie.indexOf("account=") === -1) {
    window.location.href = "/login.html";
  }
</script>
    <script src="/assets/bootstrap/js/bootstrap.min.js?h=79ff9637b74326c362fb6f7f5801a7ba"></script>
    <script src="/assets/js/bs-init.js?h=bd1e7bf16294cd29af0339e7c8132178"></script>
    <script src="/assets/js/404.js?h=67ec544d8b6812edadaf7491d9124ade"></script>
    <script src="/assets/js/theme.js?h=79f403485707cf2617c5bc5a2d386bb0"></script>
</body>

</html>