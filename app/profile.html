<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Profile - DigiCash Dashboard</title>
    <meta name="description" content="The one dashboard to manage your DigiCash. Don't have any? Create an account and get some free credits">
    <link rel="icon" type="image/png" sizes="500x500" href="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e">
    <link rel="icon" type="image/png" sizes="500x500" href="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e">
    <link rel="icon" type="image/png" sizes="500x500" href="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e">
    <link rel="icon" type="image/png" sizes="500x500" href="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e">
    <link rel="icon" type="image/png" sizes="500x500" href="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e">
    <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css?h=cb606d99bb2418df19b6bc818b41e412">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono&amp;display=swap">
    <link rel="stylesheet" href="/assets/fonts/fontawesome-all.min.css?h=e7cfb9ec830984d637c4aed91cd725c5">
    <link rel="stylesheet" href="/assets/css/404-NOT-FOUND-animated.css?h=52dc02178c6c95fb5c6b310b7eea1053">
    <link rel="stylesheet" href="/assets/css/Bootstrap-Callout-Danger-1.css?h=05fb6ea46bf123582ef75deacf9ab696">
    <link rel="stylesheet" href="/assets/css/Bootstrap-Callout-Danger.css?h=42712a1218a3f115163d943aef23cb21">
    <link rel="stylesheet" href="/assets/css/Bootstrap-Callout-Info.css?h=15b43fafd5928244e49dc20add914164">
    <link rel="stylesheet" href="/assets/css/Navbar-Right-Links-Dark-icons.css?h=1fb7478465b62bffaafc5ff7d3ec5853">
</head>

<body id="page-top">
    <div id="wrapper">
        <nav class="navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0" style="border-radius: 17px;margin: 10px;">
            <div class="container-fluid d-flex flex-column p-0"><script>
  const accountDropdown = document.querySelector("#accountDropdown");
  const accountName = document.querySelector("#accountName");

  function checkCookie() {
    const cookieExists = document.cookie.split(';').some((item) => item.trim().startsWith('dashboard_account='));
    if (cookieExists) {
      if (accountDropdown) {
        accountDropdown.classList.add("show");
      }
      const accountValue = document.cookie.split('; ').find(row => row.startsWith('dashboard_account=')).split('=')[1];
      accountName.innerText = accountValue;
    } else {
      if (accountDropdown) {
        accountDropdown.classList.remove("show");
      }
    }
  }

  window.onload = checkCookie;
</script>
<a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0" href="/app/dashboard.html" style="width: 75%;margin-top: 15px!important;margin-bottom: 15px!important;">
                    <div class="sidebar-brand-icon rotate-n-15"></div>
                    <div class="sidebar-brand-text mx-3"><img src="/assets/img/icon.png?h=65db8f52059975fa40b00e7f7accfb7e" width="57" height="57" style="width: auto;height: 38.762px;"><br><span class="text-capitalize" style="font-size: auto!important;font-family: arial;font-weight: bold;">DigiCash Dashboard</span></div>
                </a>
                <hr class="sidebar-divider my-0">
                <ul class="navbar-nav text-light" id="accordionSidebar">
                    <li class="nav-item"><a class="nav-link" href="/app/dashboard.html"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/app/profile.html"><i class="fas fa-user"></i><span>Profile</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/app/wallet.html"><i class="fas fa-wallet"></i><span>Wallet</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/app/deposit.html"><i class="fas fa-piggy-bank"></i><span>Deposit</span></a><a class="nav-link" href="/app/withdraw.html"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-cash-coin" style="width: 15.3px;margin: 0px 4px 0px 0px;">
                                <path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"></path>
                                <path d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"></path>
                                <path d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"></path>
                                <path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"></path>
                            </svg><span>Withdraw</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/logout.html"><i class="fas fa-sign-out-alt"></i><span>Log Out</span></a></li>
                </ul>
                <div class="text-center d-none d-md-inline"><button class="btn rounded-circle border-0" id="sidebarToggle" type="button"></button></div>
            </div>
        </nav>
        <div class="d-flex flex-column" id="content-wrapper">
            <div id="content">
                <nav class="navbar navbar-light navbar-expand bg-white shadow mb-4 topbar static-top" style="border-radius: 10px;">
                    <div class="container-fluid"><button class="btn btn-link d-md-none rounded-circle me-3" id="sidebarToggleTop" type="button"><i class="fas fa-bars"></i></button>
                        <h3 class="text-dark mb-0">DigiCash Dashboard</h3>
                        <ul class="navbar-nav flex-nowrap ms-auto">
                            <li class="nav-item dropdown d-sm-none no-arrow"><a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#"><i class="fas fa-search"></i></a>
                                <div class="dropdown-menu dropdown-menu-end p-3 animated--grow-in" aria-labelledby="searchDropdown">
                                    <form class="me-auto navbar-search w-100">
                                        <div class="input-group"><input class="bg-light form-control border-0 small" type="text" placeholder="Search for ...">
                                            <div class="input-group-append"><button class="btn btn-primary py-0" type="button"><i class="fas fa-search"></i></button></div>
                                        </div>
                                    </form>
                                </div>
                            </li>
                            <div class="d-none d-sm-block topbar-divider"></div>
                            <li class="nav-item dropdown no-arrow">
                                <!-- Start: account thign -->
                                <div class="nav-item dropdown no-arrow"><a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#"><span class="d-none d-lg-inline me-2 text-gray-600 small">Guest</span><script>const account = JSON.parse(document.cookie.split(';').find(cookie => cookie.startsWith('account=')).split('=')[1]);
const firstName = account['first-name'];
const lastName = account['last-name'];
const nameSpan = document.querySelector('.text-gray-600');
nameSpan.innerHTML = `${firstName} ${lastName}`;
</script>
<img class="border rounded-circle img-profile" src="/assets/img/default-pfp.webp?h=ca785a70dace4e45ddd7ee8c2dd50cec" />
<script>
  const dashboardAccessToken_123 = 'patDs6HNgXDsAGKtn.b4b12d712365527fb18967b9d0a6002800857dc8309181510f6963ad2b45019d';
  const baseId_456 = 'appj9R8cdDKBA2Khb';
  const accountsUrl = `https://api.airtable.com/v0/${baseId_456}/${tableName}`;
  const accountCookieName = 'account';

  const imgProfile = document.querySelector('.img-profile');

  // Retrieve account data from cookie
  const getAccountFromCookie = () => {
    const cookieValue = document.cookie
      .split('; ')
      .find(row => row.startsWith(`${accountCookieName}=`))
      ?.split('=')[1];

    return cookieValue ? JSON.parse(cookieValue) : null;
  }
  console.log(getAccountFromCookie);

  // Set default image
  imgProfile.setAttribute('src', 'default-pfp.png');

  // Update image from Airtable if account cookie exists
  const userAccount = getAccountFromCookie();
  if (userAccount && userAccount.fields && userAccount.fields.pfp) {
    const pfpUrl = userAccount.fields.pfp[0].url;
    imgProfile.setAttribute('src', pfpUrl);
  }
</script></a>
                                    <div class="dropdown-menu shadow dropdown-menu-end animated--grow-in"><a class="dropdown-item" href="/app/profile.html"><i class="fas fa-user fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Profile</a><a class="dropdown-item" href="/app/profile.html"><i class="fas fa-cogs fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Settings</a><a class="dropdown-item" href="#"><i class="fas fa-list fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Activity log</a>
                                        <div class="dropdown-divider"></div><a class="dropdown-item" href="/logout.html"><i class="fas fa-sign-out-alt fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Logout</a>
                                    </div>
                                </div><!-- End: account thign -->
                            </li>
                        </ul>
                    </div>
                </nav>
                <div class="container-fluid">
                    <!-- Start: Bootstrap Callout Danger -->
                    <div class="bs-callout bs-callout-danger">
                        <h4>Apologies!</h4>
                        <p>This feature has been disabled as it is still being developed</p>
                    </div><!-- End: Bootstrap Callout Danger -->
                    <h3 class="text-dark mb-4">Profile</h3>
                    <div class="row mb-3">
                        <div class="col-lg-4">
                            <div class="card mb-3">
                                <div class="card-body text-center shadow"><img class="rounded-circle border img-profile" src="/assets/img/default-pfp.webp?h=ca785a70dace4e45ddd7ee8c2dd50cec" width="199" height="199">
                                    <div class="mb-3"><button class="btn btn-primary btn-sm" type="button" style="margin: 10px;">Change Photo</button></div>
                                </div>
                            </div>
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="text-primary fw-bold m-0">Projects</h6>
                                </div>
                                <div class="card-body">
                                    <h4 class="small fw-bold">Server migration<span class="float-end">20%</span></h4>
                                    <div class="progress progress-sm mb-3">
                                        <div class="progress-bar bg-danger" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 20%;"><span class="visually-hidden">20%</span></div>
                                    </div>
                                    <h4 class="small fw-bold">Sales tracking<span class="float-end">40%</span></h4>
                                    <div class="progress progress-sm mb-3">
                                        <div class="progress-bar bg-warning" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%;"><span class="visually-hidden">40%</span></div>
                                    </div>
                                    <h4 class="small fw-bold">Customer Database<span class="float-end">60%</span></h4>
                                    <div class="progress progress-sm mb-3">
                                        <div class="progress-bar bg-primary" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"><span class="visually-hidden">60%</span></div>
                                    </div>
                                    <h4 class="small fw-bold">Payout Details<span class="float-end">80%</span></h4>
                                    <div class="progress progress-sm mb-3">
                                        <div class="progress-bar bg-info" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%;"><span class="visually-hidden">80%</span></div>
                                    </div>
                                    <h4 class="small fw-bold">Account setup<span class="float-end">Complete!</span></h4>
                                    <div class="progress progress-sm mb-3">
                                        <div class="progress-bar bg-success" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"><span class="visually-hidden">100%</span></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-8">
                            <div class="row mb-3 d-none">
                                <div class="col">
                                    <div class="card text-white bg-primary shadow">
                                        <div class="card-body">
                                            <div class="row mb-2">
                                                <div class="col">
                                                    <p class="m-0">Peformance</p>
                                                    <p class="m-0"><strong>65.2%</strong></p>
                                                </div>
                                                <div class="col-auto"><i class="fas fa-rocket fa-2x"></i></div>
                                            </div>
                                            <p class="text-white-50 small m-0"><i class="fas fa-arrow-up"></i>&nbsp;5% since last month</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="card text-white bg-success shadow">
                                        <div class="card-body">
                                            <div class="row mb-2">
                                                <div class="col">
                                                    <p class="m-0">Peformance</p>
                                                    <p class="m-0"><strong>65.2%</strong></p>
                                                </div>
                                                <div class="col-auto"><i class="fas fa-rocket fa-2x"></i></div>
                                            </div>
                                            <p class="text-white-50 small m-0"><i class="fas fa-arrow-up"></i>&nbsp;5% since last month</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <!-- Start: Updateform --><div class="card shadow mb-3">
    <div class="card-header py-3">
        <p class="text-primary m-0 fw-bold">User Settings</p>
    </div>
    <div class="card-body">
        <form>
            <div class="row">
                <div class="col">
                    <div class="mb-3">
                        <label class="form-label" for="username"><strong>Username</strong></label>
                        <input id="username" class="form-control" type="text" placeholder="user.name" name="username" required />
                    </div>
                </div>
                <div class="col">
                    <div class="mb-3">
                        <label class="form-label" for="email"><strong>Email Address</strong></label>
                        <input id="email" class="form-control" type="email" placeholder="user@example.com" name="email" required />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="mb-3">
                        <label class="form-label" for="first_name"><strong>First Name</strong></label>
                        <input id="first_name" class="form-control" type="text" placeholder="John" name="first_name" required />
                    </div>
                </div>
                <div class="col">
                    <div class="mb-3">
                        <label class="form-label" for="last_name"><strong>Last Name</strong></label>
                        <input id="last_name" class="form-control" type="text" placeholder="Doe" name="last_name" required />
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <button id="saveSettingsButton" class="btn btn-primary btn-sm" type="submit">Save Settings</button>
            </div>
        </form>
    </div>
</div>
<!-- End: Updateform -->
                                    <!-- Start: Script --><script>
    const accessToken = 'patDs6HNgXDsAGKtn.b4b12d712365527fb18967b9d0a6002800857dc8309181510f6963ad2b45019d';
    const baseId = 'appj9R8cdDKBA2Khb';
    const tableName = 'accounts';
    const accountsUrl = `https://api.airtable.com/v0/${baseId}/${tableName}`;
    const accountCookieName = 'account';

    // Retrieve account data from cookie
    const getAccountFromCookie = () => {
      const cookieValue = document.cookie
        .split('; ')
        .find(row => row.startsWith(`${accountCookieName}=`))
        ?.split('=')[1];
      
      return cookieValue ? JSON.parse(cookieValue) : null;
    }

    // Update account data in cookie
    const updateAccountCookie = (newData) => {
      const existingCookie = getAccountFromCookie();
      const updatedData = {...existingCookie?.fields, ...newData};
      const expires = "; expires=Thu, 01 Jan 2099 00:00:00 UTC";
      document.cookie = `${accountCookieName}=${JSON.stringify({fields: updatedData})}${expires}; path=/`;
    }

    // Update account data in Airtable
    const updateAccountInAirtable = async (newData) => {
      const existingData = getAccountFromCookie()?.fields;
      const updatedData = {...existingData, ...newData};
      
      const response = await fetch(accountsUrl, {
        method: 'PUT',
        headers: {
          'Authorization': `Bearer ${accessToken}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          records: [{
            id: existingData.id,
            fields: updatedData
          }]
        })
      });

      if (!response.ok) {
        throw new Error('Failed to update account data in Airtable');
      }
    }

    // Handle form submit event
    const handleFormSubmit = async (event) => {
      event.preventDefault();
      
      const formData = new FormData(event.target);
      const newData = {
        'first-name': formData.get('first_name'),
        'last-name': formData.get('last_name'),
        'email': formData.get('email'),
        'username': formData.get('username')
      };

      // Check if all fields are filled
      if (Object.values(newData).some(value => !value)) {
        alert('Please fill in all fields');
        return;
      }

      try {
        await updateAccountInAirtable(newData);
        updateAccountCookie(newData);
        alert('Account data updated successfully!');
      } catch (error) {
        console.error(error);
        alert('Failed to update account data');
      }
    }

    // Add event listener to form submit button
    const saveSettingsButton = document.querySelector('#save-settings');
    if (saveSettingsButton) {
      saveSettingsButton.addEventListener('click', handleFormSubmit);
    }

</script>
<!-- End: Script -->
                                    <div class="card shadow">
                                        <div class="card-header py-3">
                                            <p class="text-primary m-0 fw-bold">Contact Settings</p>
                                        </div>
                                        <div class="card-body">
                                            <form>
                                                <div class="mb-3"><label class="form-label" for="address"><strong>Address</strong></label><input class="form-control" type="text" id="address" placeholder="Sunset Blvd, 38" name="address"></div>
                                                <div class="row">
                                                    <div class="col">
                                                        <div class="mb-3"><label class="form-label" for="city"><strong>City</strong></label><input class="form-control" type="text" id="city" placeholder="Los Angeles" name="city"></div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="mb-3"><label class="form-label" for="country"><strong>Country</strong></label><input class="form-control" type="text" id="country" placeholder="USA" name="country"></div>
                                                    </div>
                                                </div>
                                                <div class="mb-3"><button class="btn btn-primary btn-sm" type="submit">Save&nbsp;Settings</button></div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card shadow mb-5">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Forum Settings</p>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <form>
                                        <div class="mb-3"><label class="form-label" for="signature"><strong>Signature</strong><br></label><textarea class="form-control" id="signature" rows="4" name="signature"></textarea></div>
                                        <div class="mb-3">
                                            <div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="formCheck-1"><label class="form-check-label" for="formCheck-1"><strong>Notify me about new replies</strong></label></div>
                                        </div>
                                        <div class="mb-3"><button class="btn btn-primary btn-sm" type="submit">Save Settings</button></div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="bg-white sticky-footer" style="background: transparent;">
                <div class="container my-auto">
                    <div class="text-center my-auto copyright"><span>Copyright Â© DigiCash 2023</span></div>
                </div>
            </footer>
        </div><a class="border rounded d-inline scroll-to-top" href="#page-top"><i class="fas fa-angle-up"></i></a>
    </div>
    <p class="font-monospace text-center" style="font-family: monospace!important;color: rgb(0,0,0);font-weight: bold;">DigiCash Banking System - v0.8.4.1-April-Edition</p><script>
  if (document.cookie.indexOf("account=") === -1) {
    window.location.href = "/login.html";
  }
</script>
    <script src="/assets/bootstrap/js/bootstrap.min.js?h=79ff9637b74326c362fb6f7f5801a7ba"></script>
    <script src="/assets/js/bs-init.js?h=bd1e7bf16294cd29af0339e7c8132178"></script>
    <script src="/assets/js/404.js?h=67ec544d8b6812edadaf7491d9124ade"></script>
    <script src="/assets/js/theme.js?h=79f403485707cf2617c5bc5a2d386bb0"></script>
</body>

</html>